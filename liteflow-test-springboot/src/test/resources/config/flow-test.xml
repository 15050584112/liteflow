<?xml version="1.0" encoding="UTF-8"?>
<flow>
    <!-- 测试XML解析 when节点中async是否正常 -->
    <!-- 测试when节点中async是值各种设置后是否按照正确逻辑调用 -->
    <chain name="async">
        <then value="s1, s2"/> <!-- then表示串行 -->
        <when value="s3, s4, s5, s6"/> <!-- async = false 表示串行 -->
        <when value="p3, p4, p5, p6"/> <!-- async = true 表示并行 -->
        <when value = "p7, p8"/> <!-- async未设置表示并行 -->
    </chain>

    <!-- 模拟线程池中可用线程只有2个线程时，当并发的when都大于2时，线程来回处理切换中threadLocal中的slotIndex是否正确 -->
    <chain name="async-concurrent1">
        <when value="c1, c2, c3, c4, c5"/> <!-- async = true 表示并行 -->
    </chain>

    <chain name="async-concurrent2">
        <when value="c6, c7, c8, c9, c10"/> <!-- async = true 表示并行 -->
    </chain>
</flow>
